<!DOCTYPE html>
<html lang="sl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evro Zbiratelj</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body { font-family: system-ui, -apple-system, sans-serif; }
        .coin-card { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .coin-card:hover { transform: translateY(-8px); }
    </style>
</head>
<body class="min-h-screen bg-slate-50 pb-16">

    <!-- Glavna nadzorna ploÅ¡Äa -->
    <header class="bg-slate-900 text-white pt-10 pb-10 px-4 sm:px-6 md:px-8 rounded-b-[2.5rem] shadow-2xl relative overflow-hidden border-b-4 border-yellow-500">
        <div class="absolute top-0 right-0 opacity-5 pointer-events-none transform translate-x-1/4 -translate-y-1/4">
            <i data-lucide="circle" class="w-[500px] h-[500px]" stroke-width="8"></i>
        </div>
        
        <div class="max-w-7xl mx-auto relative z-10">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-10 gap-4">
                <div>
                    <h1 class="text-3xl md:text-5xl font-extrabold flex items-center gap-3 tracking-tight">
                        <i data-lucide="euro" class="text-yellow-400 drop-shadow-md w-10 h-10"></i>
                        Evro Zbiratelj
                    </h1>
                    <p class="text-slate-400 mt-2 text-md md:text-lg font-medium">Tvoja osebna nadzorna ploÅ¡Äa za 2â‚¬ kovance</p>
                </div>
                
                <div class="flex flex-col sm:items-end gap-3 w-full sm:w-auto">
                    <!-- ZnaÄka za skupno vrednost -->
                    <div class="bg-gradient-to-r from-yellow-500 to-yellow-400 text-yellow-950 px-5 py-2.5 rounded-2xl shadow-lg font-black text-2xl flex items-center justify-center gap-2 border-2 border-yellow-300 w-full sm:w-auto transform transition-transform hover:scale-105" title="Skupna nominalna vrednost zbranih kovancev">
                        <i data-lucide="wallet" class="w-6 h-6 opacity-80"></i>
                        <span id="total-value">â‚¬0.00</span>
                    </div>
                    <button onclick="resetCollection()" class="bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-2 px-4 rounded-xl shadow-md transition-all flex items-center justify-center gap-2 text-sm border border-slate-700 w-full sm:w-auto">
                        <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                        Ponastavi zbirko
                    </button>
                </div>
            </div>

            <!-- Statistika napredka -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <!-- Redni kovanci -->
                <div class="bg-white/10 backdrop-blur-md border border-white/10 rounded-3xl p-6 shadow-inner relative overflow-hidden">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-slate-300 font-bold text-sm uppercase tracking-wider flex items-center gap-2">
                            <i data-lucide="globe" class="text-blue-400 w-4 h-4"></i>
                            Evrski redni kovanci
                        </div>
                        <i data-lucide="award" id="reg-award" class="text-yellow-400 animate-pulse hidden w-6 h-6"></i>
                    </div>
                    <div class="flex items-end gap-3 mb-4">
                        <div class="text-5xl font-black text-white" id="reg-collected">0</div>
                        <div class="text-xl text-slate-400 font-medium mb-1">/ <span id="reg-total">0</span></div>
                    </div>
                    <div class="w-full bg-slate-800 rounded-full h-3 overflow-hidden shadow-inner">
                        <div id="reg-bar" class="bg-blue-500 h-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Slovenski spominski kovanci -->
                <div class="bg-white/10 backdrop-blur-md border border-white/10 rounded-3xl p-6 shadow-inner relative overflow-hidden">
                    <div class="flex justify-between items-center mb-4">
                        <div class="text-slate-300 font-bold text-sm uppercase tracking-wider flex items-center gap-2">
                            <i data-lucide="star" class="text-yellow-400 w-4 h-4"></i>
                            Slovenski spominski kovanci
                        </div>
                        <i data-lucide="trophy" id="sl-award" class="text-yellow-400 animate-pulse hidden w-6 h-6"></i>
                    </div>
                    <div class="flex items-end gap-3 mb-4">
                        <div class="text-5xl font-black text-white" id="sl-collected">0</div>
                        <div class="text-xl text-slate-400 font-medium mb-1">/ <span id="sl-total">0</span></div>
                    </div>
                    <!-- Vrstica napredka v barvah slovenske zastave -->
                    <div class="w-full bg-slate-800 rounded-full h-3 overflow-hidden shadow-inner flex">
                        <div id="sl-bar-white" class="bg-white h-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                        <div id="sl-bar-blue" class="bg-blue-500 h-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                        <div id="sl-bar-red" class="bg-red-500 h-full transition-all duration-1000 ease-out" style="width: 0%"></div>
                    </div>
                </div>

            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-8">
        
        <!-- Iskanje in filtri -->
        <div class="bg-white p-4 rounded-2xl shadow-sm border border-slate-200 mb-10 flex flex-col md:flex-row gap-4 sticky top-4 z-40 backdrop-blur-md bg-white/90">
            <div class="flex-1 relative">
                <i data-lucide="search" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"></i>
                <input 
                    type="text" 
                    id="searchInput"
                    placeholder="IÅ¡Äi po nazivu, letniku ali drÅ¾avi..." 
                    class="w-full pl-12 pr-4 py-3 bg-slate-100 border-none rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all font-medium text-slate-700"
                />
            </div>
            <div class="flex gap-4">
                <select 
                    id="statusFilter"
                    class="px-5 py-3 bg-slate-100 border-none rounded-xl outline-none focus:ring-2 focus:ring-blue-500 font-medium text-slate-700 cursor-pointer min-w-[160px]"
                >
                    <option value="All">Vsi kovanci</option>
                    <option value="Collected">Zbrani</option>
                    <option value="Missing">ManjkajoÄi</option>
                </select>
            </div>
        </div>

        <!-- SEKCIJA 1: Redni evrokovanci -->
        <section class="mb-16">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-blue-100 text-blue-600 rounded-xl">
                    <i data-lucide="globe" class="w-6 h-6"></i>
                </div>
                <div>
                    <h2 class="text-2xl font-black text-slate-800 tracking-tight">Evrski redni kovanci</h2>
                    <p class="text-slate-500 font-medium text-sm">Redni nacionalni kovanci iz obtoka (vkljuÄno z veÄ serijami)</p>
                </div>
                <span id="reg-complete-badge" class="hidden ml-auto bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1">
                    <i data-lucide="check-circle" class="w-4 h-4"></i> Zbrano
                </span>
            </div>

            <div id="regular-coins-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6">
                <!-- Vsebina se generira samodejno -->
            </div>
        </section>

        <!-- SEKCIJA 2: Slovenski spominski kovanci -->
        <section class="mb-10">
            <div class="flex items-center gap-3 mb-6">
                <div class="p-3 bg-blue-100 text-blue-800 rounded-xl relative overflow-hidden">
                    <div class="absolute inset-0 flex flex-col opacity-20">
                        <div class="h-1/3 bg-white"></div><div class="h-1/3 bg-blue-600"></div><div class="h-1/3 bg-red-600"></div>
                    </div>
                    <i data-lucide="star" class="w-6 h-6 relative z-10"></i>
                </div>
                <div>
                    <h2 class="text-2xl font-black text-slate-800 tracking-tight">Slovenski spominski kovanci</h2>
                    <p class="text-slate-500 font-medium text-sm">Posebne izdaje od leta 2007 do 2026</p>
                </div>
                <span id="sl-complete-badge" class="hidden ml-auto bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1">
                    <i data-lucide="check-circle" class="w-4 h-4"></i> Zbrano
                </span>
            </div>

            <div id="slovenian-coins-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6">
                <!-- Vsebina se generira samodejno -->
            </div>
        </section>

    </main>

    <!-- JavaScript Logika -->
    <script>
        // --- 1. PODATKOVNA BAZA ---
        const COINS = [
            // REDNI KOVANCI
            { id: 'reg-ad', type: 'Regular', year: 'Redna izdaja', country: 'Andora', inscription: 'ANDORRA', flag: 'ğŸ‡¦ğŸ‡©', title: 'Redni 2â‚¬ - Grb Andore', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Andorra.jpg', description: 'Prikazuje grb Andore z nacionalnim geslom "virtus unita fortior" (vrline zdruÅ¾ene so moÄnejÅ¡e).' },
            { id: 'reg-at', type: 'Regular', year: 'Redna izdaja', country: 'Avstrija', inscription: 'Ã–STERREICH', flag: 'ğŸ‡¦ğŸ‡¹', title: 'Redni 2â‚¬ - Bertha von Suttner', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_oes.png', description: 'Prikazuje portret Berthe von Suttner, dobitnice Nobelove nagrade za mir, ki simbolizira zavezanost Avstrije miru.' },
            
            // Belgija - Serije
            { id: 'reg-be-1', type: 'Regular', year: 'Redna izdaja', country: 'Belgija', inscription: 'BELGIE', flag: 'ğŸ‡§ğŸ‡ª', title: 'Redni 2â‚¬ (1. serija) - Kralj Albert II', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_bel.png', description: '1. serija: Prikazuje portret kralja Alberta II (dizajn 1999-2007).' },
            { id: 'reg-be-2', type: 'Regular', year: 'Redna izdaja', country: 'Belgija', inscription: 'BELGIE', flag: 'ğŸ‡§ğŸ‡ª', title: 'Redni 2â‚¬ (2. serija) - Kralj Albert II (posodobljen)', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Belgium_2euro_2008.jpg', description: '2. serija: Posodobljen portret kralja Alberta II v skladu z novimi pravili EU (2008-2013).' },
            { id: 'reg-be-3', type: 'Regular', year: 'Redna izdaja', country: 'Belgija', inscription: 'BELGIE', flag: 'ğŸ‡§ğŸ‡ª', title: 'Redni 2â‚¬ (3. serija) - Kralj Filip', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Belgium_2euro_2014ph.jpg', description: '3. serija: Prikazuje portret belgijskega kralja Filipa, ki gleda v desno, z njegovim kraljevim monogramom.' },
            
            { id: 'reg-bg', type: 'Regular', year: 'Redna izdaja', country: 'Bolgarija', inscription: 'Ğ‘ĞªĞ›Ğ“ĞĞ Ğ˜Ğ¯', flag: 'ğŸ‡§ğŸ‡¬', title: 'Redni 2â‚¬ - Pajsij Hilendarski', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Bulgaria_2euro.jpg', description: 'Prikazuje Pajsija Hilendarskega, pomembnega bolgarskega duhovnika in kljuÄno osebnost bolgarskega narodnega preporoda.' },
            { id: 'reg-hr', type: 'Regular', year: 'Redna izdaja', country: 'HrvaÅ¡ka', inscription: 'HRVATSKA', flag: 'ğŸ‡­ğŸ‡·', title: 'Redni 2â‚¬ - Zemljevid HrvaÅ¡ke', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Croatia_2euro.jpg', description: 'Prikazuje geografski zemljevid Republike HrvaÅ¡ke z znano Å¡ahovnico v ozadju.' },
            { id: 'reg-cy', type: 'Regular', year: 'Redna izdaja', country: 'Ciper', inscription: 'KYĞŸPOÎ£', flag: 'ğŸ‡¨ğŸ‡¾', title: 'Redni 2â‚¬ - Idol iz Pomosa', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Cipro.gif', description: 'Prikazuje idol v obliki kriÅ¾a iz bakrene dobe (3000 pr. n. Å¡t.), najden v vasi Pomos, znaÄilen primer prazgodovinske ciprske umetnosti.' },
            { id: 'reg-ee', type: 'Regular', year: 'Redna izdaja', country: 'Estonija', inscription: 'EESTI', flag: 'ğŸ‡ªğŸ‡ª', title: 'Redni 2â‚¬ - Zemljevid Estonije', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Estonia.jpg', description: 'Prikazuje geografski zemljevid Estonije v obrisu, ki simbolizira nacionalno enotnost in identiteto.' },
            { id: 'reg-fi', type: 'Regular', year: 'Redna izdaja', country: 'Finska', inscription: 'SUOMI', flag: 'ğŸ‡«ğŸ‡®', title: 'Redni 2â‚¬ - Barjevska robida', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_fin.png', description: 'Prikazuje sadeÅ¾ in liste barjevske robide (znane tudi kot nordijska robida), ki predstavlja finsko naravo.' },
            
            // Francija - Serije
            { id: 'reg-fr-1', type: 'Regular', year: 'Redna izdaja', country: 'Francija', inscription: 'RF', flag: 'ğŸ‡«ğŸ‡·', title: 'Redni 2â‚¬ (1. serija) - Drevo Å¾ivljenja', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_fra.png', description: '1. serija: Prikazuje drevo, ki ga je narisal Joaquin Jimenez in simbolizira Å¾ivljenje ter kontinuiteto, ujeto v Å¡esterokotnik, ki predstavlja meje Francije.' },
            { id: 'reg-fr-2', type: 'Regular', year: 'Redna izdaja', country: 'Francija', inscription: 'RF', flag: 'ğŸ‡«ğŸ‡·', title: 'Redni 2â‚¬ (2. serija) - Hrast in oljka', icon: 'map', imageUrl: 'https://de.wikipedia.org/wiki/Special:FilePath/PFUE2022_-_2_euros_(cropped).jpg', description: '2. serija (od leta 2022): Nov dizajn, ki prikazuje prepletene veje hrasta (simbol moÄi) in oljke (simbol miru), ki tvorijo Å¡esterokotnik.' },
            
            { id: 'reg-de', type: 'Regular', year: 'Redna izdaja', country: 'NemÄija', inscription: 'BUNDESREP.', flag: 'ğŸ‡©ğŸ‡ª', title: 'Redni 2â‚¬ - NemÅ¡ki orel', icon: 'bird', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_ger.png', description: 'Prikazuje tradicionalni simbol nemÅ¡ke suverenosti, heraldiÄnega orla, obdanega z zvezdami Evrope.' },
            { id: 'reg-gr', type: 'Regular', year: 'Redna izdaja', country: 'GrÄija', inscription: 'Î•Î›Î›Î—ÎÎ™ÎšÎ—', flag: 'ğŸ‡¬ğŸ‡·', title: 'Redni 2â‚¬ - Evropa in bik', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Grecia.gif', description: 'Prikazuje prizor iz mitologije, kjer Zevs, ki je prevzel obliko bika, ugrabi Evropo.' },
            { id: 'reg-ie', type: 'Regular', year: 'Redna izdaja', country: 'Irska', inscription: 'Ã‰IRE', flag: 'ğŸ‡®ğŸ‡ª', title: 'Redni 2â‚¬ - Keltska harfa', icon: 'music', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_euro_Irlanda.jpg', description: 'Prikazuje keltsko harfo, tradicionalni simbol Irske z dolgo zgodovino, skupaj z besedo "Ã‰ire".' },
            { id: 'reg-it', type: 'Regular', year: 'Redna izdaja', country: 'Italija', inscription: 'RI', flag: 'ğŸ‡®ğŸ‡¹', title: 'Redni 2â‚¬ - Dante Alighieri', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Italia.jpg', description: 'Prikazuje portret slovitega italijanskega pesnika Danteja Alighierija, avtorja BoÅ¾anske komedije, ki ga je naslikal Rafael.' },
            { id: 'reg-lv', type: 'Regular', year: 'Redna izdaja', country: 'Latvija', inscription: 'LATVIJA', flag: 'ğŸ‡±ğŸ‡»', title: 'Redni 2â‚¬ - Latvijska deklica', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_eur_LV.jpg', description: 'Prikazuje profil latvijske deklice, podobo, ki je bila prvotno uporabljena na srebrniku za 5 latov iz leta 1929 in simbolizira Latvijo.' },
            { id: 'reg-lt', type: 'Regular', year: 'Redna izdaja', country: 'Litva', inscription: 'LIETUVA', flag: 'ğŸ‡±ğŸ‡¹', title: 'Redni 2â‚¬ - Vytis (Vitez)', icon: 'swords', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Lituania_%E2%82%AC2.jpg', description: 'Prikazuje Vytisa, junaÅ¡kega viteza na konju, ki drÅ¾i meÄ in Å¡Äit, kar je zgodovinski grb Litve.' },
            { id: 'reg-lu', type: 'Regular', year: 'Redna izdaja', country: 'Luksemburg', inscription: 'LÃ‹TZEBUERG', flag: 'ğŸ‡±ğŸ‡º', title: 'Redni 2â‚¬ - Veliki vojvoda Henri', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Lussemburgo.jpg', description: 'Prikazuje portret Njegove kraljeve visokosti, velikega vojvode Henrija, obrnjenega v desno.' },
            { id: 'reg-mt', type: 'Regular', year: 'Redna izdaja', country: 'Malta', inscription: 'MALTA', flag: 'ğŸ‡²ğŸ‡¹', title: 'Redni 2â‚¬ - MalteÅ¡ki kriÅ¾', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_Euro_Malta.jpg', description: 'Prikazuje osemkraki malteÅ¡ki kriÅ¾, simbol, povezan s Suverenim vojaÅ¡kim malteÅ¡kim redom.' },
            
            // Monako - Serije
            { id: 'reg-mc-1', type: 'Regular', year: 'Redna izdaja', country: 'Monako', inscription: 'MONACO', flag: 'ğŸ‡²ğŸ‡¨', title: 'Redni 2â‚¬ (1. serija) - Knez Rainier III', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Monaco_2001.jpg', description: '1. serija (2001-2005): Prikazuje kneza Rainierja III.' },
            { id: 'reg-mc-2', type: 'Regular', year: 'Redna izdaja', country: 'Monako', inscription: 'MONACO', flag: 'ğŸ‡²ğŸ‡¨', title: 'Redni 2â‚¬ (2. serija) - Knez Albert II', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Monaco_2006.jpg', description: '2. serija (2006-): Prikazuje portret N.S.V. kneza Alberta II.' },
            
            // Nizozemska - Serije
            { id: 'reg-nl-1', type: 'Regular', year: 'Redna izdaja', country: 'Nizozemska', inscription: 'NEDERLAND', flag: 'ğŸ‡³ğŸ‡±', title: 'Redni 2â‚¬ (1. serija) - Kraljica Beatrix', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_nl.png', description: '1. serija: Prikazuje stiliziran profil nizozemske kraljice Beatrix.' },
            { id: 'reg-nl-2', type: 'Regular', year: 'Redna izdaja', country: 'Nizozemska', inscription: 'NEDERLAND', flag: 'ğŸ‡³ğŸ‡±', title: 'Redni 2â‚¬ (2. serija) - Kralj Willem-Alexander', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Paesi_Bassi_serie_2014.jpg', description: '2. serija (2014-): Prikazuje inovativen in fasetiran portret kralja Willema-Alexandra.' },
            
            { id: 'reg-pt', type: 'Regular', year: 'Redna izdaja', country: 'Portugalska', inscription: 'PORTUGAL', flag: 'ğŸ‡µğŸ‡¹', title: 'Redni 2â‚¬ - Kraljevi peÄati', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2e_por.png', description: 'Prikazuje kraljevi peÄat iz leta 1144, ki je pripadal Afonsu Henriquesu, prvemu portugalskemu kralju, obdanem s sedmimi gradovi in petimi Å¡Äitki.' },
            { id: 'reg-sm', type: 'Regular', year: 'Redna izdaja', country: 'San Marino', inscription: 'SAN MARINO', flag: 'ğŸ‡¸ğŸ‡²', title: 'Redni 2â‚¬ - Vladna palaÄa', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_San_Marino.gif', description: 'Prikazuje palaÄo Palazzo Pubblico (Vladno palaÄo) v San Marinu.' },
            { id: 'reg-sk', type: 'Regular', year: 'Redna izdaja', country: 'SlovaÅ¡ka', inscription: 'SLOVENSKO', flag: 'ğŸ‡¸ğŸ‡°', title: 'Redni 2â‚¬ - Dvojni kriÅ¾ na hribih', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Slovacchia.png', description: 'Prikazuje drÅ¾avni grb - dvojni kriÅ¾, ki se dviga s treh hribov (Tatre, Fatra, Matra).' },
            { id: 'reg-si', type: 'Regular', year: 'Redna izdaja', country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: 'Redni 2â‚¬ - France PreÅ¡eren', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Si2.1eur.jpg', description: 'Prikazuje profil najveÄjega slovenskega pesnika Franceta PreÅ¡erna in rokopis verza "Å½ivÃ© naj vsi narÃ³di" iz njegove Zdravljice, ki je tudi slovenska himna.' },
            
            // Å panija - Serije
            { id: 'reg-es-1', type: 'Regular', year: 'Redna izdaja', country: 'Å panija', inscription: 'ESPAÃ‘A', flag: 'ğŸ‡ªğŸ‡¸', title: 'Redni 2â‚¬ (1. serija) - Kralj Juan Carlos I', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Spagna.gif', description: '1. serija: Prikazuje portret Å¡panskega kralja Juana Carlosa I (1999-2009).' },
            { id: 'reg-es-2', type: 'Regular', year: 'Redna izdaja', country: 'Å panija', inscription: 'ESPAÃ‘A', flag: 'ğŸ‡ªğŸ‡¸', title: 'Redni 2â‚¬ (2. serija) - Juan Carlos I posodobljen', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Spain_2euro_2014.jpg', description: '2. serija: Posodobljen portret v skladu z novimi pravili EU, umaknjeni obrisi (2010-2014).' },
            { id: 'reg-es-3', type: 'Regular', year: 'Redna izdaja', country: 'Å panija', inscription: 'ESPAÃ‘A', flag: 'ğŸ‡ªğŸ‡¸', title: 'Redni 2â‚¬ (3. serija) - Kralj Filip VI', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/Spain_2euro_2015.jpg', description: '3. serija (2015-): Prikazuje portret Njegovega veliÄanstva kralja Filipa VI.' },
            
            // Vatikan - Serije
            { id: 'reg-va-1', type: 'Regular', year: 'Redna izdaja', country: 'Vatikan', inscription: 'VATICANO', flag: 'ğŸ‡»ğŸ‡¦', title: 'Redni 2â‚¬ (1. serija) - PapeÅ¾ Janez Pavel II', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_euro_coin_Va_serie_1.png', description: '1. serija: Prikazuje profil papeÅ¾a Janeza Pavla II.' },
            { id: 'reg-va-2', type: 'Regular', year: 'Redna izdaja', country: 'Vatikan', inscription: 'VATICANO', flag: 'ğŸ‡»ğŸ‡¦', title: 'Redni 2â‚¬ (2. serija) - Sede Vacante', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_euro_coin_Va_serie_2.png', description: '2. serija (2005): Izdana v Äasu Sede Vacante (praznega sedeÅ¾a), prikazuje grb kardinala komornika.' },
            { id: 'reg-va-3', type: 'Regular', year: 'Redna izdaja', country: 'Vatikan', inscription: 'VATICANO', flag: 'ğŸ‡»ğŸ‡¦', title: 'Redni 2â‚¬ (3. serija) - PapeÅ¾ Benedikt XVI', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_euro_coin_Va_serie_3a.png', description: '3. serija: Prikazuje profil papeÅ¾a Benedikta XVI.' },
            { id: 'reg-va-4', type: 'Regular', year: 'Redna izdaja', country: 'Vatikan', inscription: 'VATICANO', flag: 'ğŸ‡»ğŸ‡¦', title: 'Redni 2â‚¬ (4. serija) - PapeÅ¾ FranÄiÅ¡ek', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_%E2%82%AC_Vaticano_2014.png', description: '4. serija: Prikazuje profil papeÅ¾a FranÄiÅ¡ka.' },
            { id: 'reg-va-5', type: 'Regular', year: 'Redna izdaja', country: 'Vatikan', inscription: 'VATICANO', flag: 'ğŸ‡»ğŸ‡¦', title: 'Redni 2â‚¬ (5. serija) - PapeÅ¡ki grb', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2_euros_Vatican5.png', description: '5. serija (2017-): Portret zamenja grb suverena Vatikana, papeÅ¾a FranÄiÅ¡ka.' },

            // SLOVENSKI SPOMINSKI KOVANCI
            { id: 'sl-2007-rome', type: 'Commemorative', year: 2007, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '50. obletnica Rimske pogodbe', icon: 'book-open', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/%E2%82%AC2_commemorative_coin_Slovenia_2007_TOR.jpg', description: 'Skupna evropska izdaja, ki prikazuje dokument pogodbe s podpisi Å¡estih drÅ¾av ustanoviteljic v ozadju, ki spominja na Michelangelov tlak na rimskem trgu Campidoglio.' },
            { id: 'sl-2008-trubar', type: 'Commemorative', year: 2008, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '500. obletnica rojstva PrimoÅ¾a Trubarja', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Trubar2008.png', description: 'Prikazuje profil PrimoÅ¾a Trubarja, protestantskega reformatorja in avtorja prve slovenske tiskane knjige. VkljuÄuje njegov slavni citat "Stati inu obstati".' },
            { id: 'sl-2009-emu', type: 'Commemorative', year: 2009, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '10 let Ekonomske in monetarne unije', icon: 'globe', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_EMU2009.png', description: 'Skupna evropska izdaja, ki prikazuje primitivno ÄloveÅ¡ko figuro, zdruÅ¾eno s simbolom â‚¬, kar predstavlja enotno valuto kot skupni evropski projekt.' },
            { id: 'sl-2010-botanical', type: 'Commemorative', year: 2010, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '200 let BotaniÄnega vrta v Ljubljani', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Botani%C4%8Dni_vrt2010.png', description: 'Prikazuje cvet rastline rebrinÄevolistna hladnikovka v Äast praznovanja 200. obletnice BotaniÄnega vrta v Ljubljani, najstarejÅ¡e neprekinjeno delujoÄe kulturne, znanstvene in izobraÅ¾evalne ustanove v Sloveniji.' },
            { id: 'sl-2011-rozman', type: 'Commemorative', year: 2011, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '100. obletnica rojstva Franca Rozmana - Staneta', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Stane2011.png', description: 'Prikazuje stiliziran portret Franca Rozmana - Staneta, partizanskega komandanta in narodnega heroja, skupaj s petokrako zvezdo.' },
            { id: 'sl-2012-euro', type: 'Commemorative', year: 2012, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '10 let evrskih gotovinskih plaÄil', icon: 'globe', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_evrogotovina2012.png', description: 'Skupna evropska izdaja ob 10. obletnici evrskih bankovcev in kovancev, ki prikazuje simbol evra v srediÅ¡Äu globusa.' },
            { id: 'sl-2013-postojna', type: 'Commemorative', year: 2013, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '800 let obiskovanja Postojnske jame', icon: 'map', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Postojnska2013.png', description: 'Prikazuje stilizirano spiralo, ki predstavlja zapletene podzemne prehode Postojnske jame in obeleÅ¾uje 800 let od prvega zabeleÅ¾enega obiska jame.' },
            { id: 'sl-2014-barbara', type: 'Commemorative', year: 2014, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '600. obletnica kronanja Barbare Celjske', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Barbara2014.png', description: 'Prikazuje portret Barbare Celjske, kraljice Ogrske in ÄŒeÅ¡ke, ki drÅ¾i Å¾ezlo in je obdana s tremi zvezdami, ki predstavljajo Celjske grofe.' },
            { id: 'sl-2015-emona', type: 'Commemorative', year: 2015, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '2000 let Emone (Ljubljane)', icon: 'building-2', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Emona2015.png', description: 'Prikazuje kompozicijo geometrijskih likov in Ärk, ki tvorijo besedo "EMONA" (starodavna rimska naselbina, ki je postala Ljubljana), skupaj z rimsko Å¡tevilko za leto 14 n.Å¡.' },
            { id: 'sl-2015-euflag', type: 'Commemorative', year: 2015, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '30 let zastave EU', icon: 'globe', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_zastavaEU2015.png', description: 'Skupna evropska izdaja ob 30. obletnici zastave Evropske unije, ki prikazuje dvanajst zvezd, ki se preminjajo v ÄloveÅ¡ke figure in slavijo novo Evropo.' },
            { id: 'sl-2016-independence', type: 'Commemorative', year: 2016, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '25 let neodvisnosti Republike Slovenije', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_osamosvojitev2016.png', description: 'Prikazuje diagonalno vrezan verz iz PreÅ¡ernove "Zdravljice" v obeleÅ¾itev 25. obletnice samostojnosti Slovenije.' },
            { id: 'sl-2017-euro10', type: 'Commemorative', year: 2017, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '10 let evra v Sloveniji', icon: 'globe', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_evro2017.png', description: 'Prikazuje deset leteÄih lastovk â€“ simbol pomladi in obnove v slovenski folklori â€“, ki tvorijo krog v poÄastitev 10. obletnice prevzema evra.' },
            { id: 'sl-2018-bees', type: 'Commemorative', year: 2018, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: 'Svetovni dan Äebel', icon: 'bird', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_%C4%8Debele2018.png', description: 'Prikazuje globus v obliki satja v Äast razglasitvi prvega Svetovnega dneva Äebel pod okriljem ZN, kar je bila iniciativa Slovenije.' },
            { id: 'sl-2019-uni', type: 'Commemorative', year: 2019, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '100. obletnica Univerze v Ljubljani', icon: 'building-2', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Uni-LJ2019.png', description: 'Prikazuje osrednje proÄelje glavne stavbe Univerze v Ljubljani, kjer polni kvadrat nadomeÅ¡Äa Ärko "O" v napisu.' },
            { id: 'sl-2020-bohoric', type: 'Commemorative', year: 2020, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '500. obletnica rojstva Adama BohoriÄa', icon: 'book-open', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Bohori%C4%8D2020.png', description: 'Prikazuje veÄjeziÄni napis iz BohoriÄeve slovnice "Zimske urice proste" (Arcticae horulae succisivae) ob praznovanju 500. obletnice njegovega rojstva.' },
            { id: 'sl-2021-museum', type: 'Commemorative', year: 2021, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '200 let DeÅ¾elnega muzeja za Kranjsko', icon: 'landmark', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_muzej2021.png', description: 'Prikazuje ilustracijo VaÅ¡ke situle, enega najpomembnejÅ¡ih arheoloÅ¡kih zakladov Slovenije, in predstavlja 200 let delovanja Narodnega muzeja.' },
            { id: 'sl-2022-plecnik', type: 'Commemorative', year: 2022, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '150. obletnica rojstva JoÅ¾eta PleÄnika', icon: 'building-2', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_plecnik2022.png', description: 'Prikazuje osupljiv arhitekturni detajl z velikega okna velike Äitalnice Narodne in univerzitetne knjiÅ¾nice v Ljubljani v poklon arhitektu JoÅ¾etu PleÄniku.' },
            { id: 'sl-2022-erasmus', type: 'Commemorative', year: 2022, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '35 let programa Erasmus', icon: 'book-open', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_erasmus2022.png', description: 'Skupna evropska izdaja, ki prikazuje portret Erazma Rotterdamskega, prekritega s Ärtami, ki se povezujejo, v Äast 35. obletnici programa Å¡tudijske izmenjave.' },
            { id: 'sl-2023-plemelj', type: 'Commemorative', year: 2023, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '150. obletnica rojstva Josipa Plemlja', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Plemelj2023.png', description: 'Prikazuje enaÄbo in grafiÄne oblike, ki ponazarjajo matematiÄno delo Josipa Plemlja, prvega rektorja Univerze v Ljubljani.' },
            { id: 'sl-2024-library', type: 'Commemorative', year: 2024, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '250. obletnica Narodne in univerzitetne knjiÅ¾nice', icon: 'book-open', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_NUK2024.png', description: 'ObeleÅ¾uje 250. obletnico Narodne in univerzitetne knjiÅ¾nice (NUK), temeljne ustanove slovenskega znanja in kulturne dediÅ¡Äine.' },
            { id: 'sl-2025-miki', type: 'Commemorative', year: 2025, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '100. obletnica rojstva Mikija Mustra', icon: 'user', imageUrl: 'https://sl.wikipedia.org/wiki/Special:FilePath/2-eur_Muster2025.png', description: 'Praznuje 100. rojstni dan Mikija Mustra, pionirja slovenskega stripa, animatorja in ilustratorja, priljubljenega pri mnogih generacijah.' },
            { id: 'sl-2026-cankar', type: 'Commemorative', year: 2026, country: 'Slovenija', inscription: 'SLOVENIJA', flag: 'ğŸ‡¸ğŸ‡®', title: '150. obletnica rojstva Ivana Cankarja', icon: 'book-open', imageUrl: 'https://upload.wikimedia.org/wikipedia/it/7/7e/2_euro_commemorativo_2026_slovenia_cankar.webp', description: 'Prikazuje poÄastitev 150. obletnice rojstva Ivana Cankarja, znamenitega slovenskega pisatelja, dramatika in politiÄnega aktivista, ki je globoko zaznamoval slovensko literaturo.' }
        ];

        // --- 2. UPRAVLJANJE STANJA IN LOKALNA SHRAMBA ---
        let collectedCoins = new Set();
        let searchQuery = "";
        let statusFilter = "All";

        // Varno nalaganje podatkov
        try {
            const savedData = localStorage.getItem('euro-collection');
            if (savedData) {
                const parsed = JSON.parse(savedData);
                collectedCoins = new Set(parsed);
            }
        } catch (e) { 
            console.warn("Lokalna shramba ni na voljo v tem brskalniku/okolju."); 
        }

        // Varno shranjevanje podatkov
        function saveToLocal() {
            try {
                localStorage.setItem('euro-collection', JSON.stringify(Array.from(collectedCoins)));
            } catch (e) {
                console.warn("Podatkov ni bilo mogoÄe shraniti.");
            }
        }

        function toggleCoin(id) {
            if (collectedCoins.has(id)) {
                collectedCoins.delete(id);
            } else {
                collectedCoins.add(id);
            }
            saveToLocal();
            renderApp();
        }

        function resetCollection() {
            if (confirm("Ali ste prepriÄani, da Å¾elite ponastaviti celotno zbirko?")) {
                collectedCoins.clear();
                saveToLocal();
                renderApp();
            }
        }

        // --- POMOÅ½NA FUNKCIJA ZA ZASTAVE ---
        function getFlagImg(coin) {
            let code = 'eu';
            if (coin.id.startsWith('reg-')) {
                code = coin.id.split('-')[1];
            } else if (coin.country === 'Slovenija') {
                code = 'si';
            }
            return `<img src="https://flagcdn.com/${code}.svg" alt="${coin.country}" class="w-5 h-3.5 object-cover rounded-[2px] shadow-[0_0_2px_rgba(0,0,0,0.2)]">`;
        }

        // --- LOGIKA ZA MODALNO OKNO ---
        let currentModalCoinId = null;

        function openModal(id) {
            currentModalCoinId = id;
            const coin = COINS.find(c => c.id === id);
            const isCollected = collectedCoins.has(id);
            
            document.getElementById('modal-title').innerText = coin.title;
            document.getElementById('modal-country').innerHTML = `<div class="flex items-center gap-2">${getFlagImg(coin)} <span class="text-base">${coin.country}</span></div>`;
            document.getElementById('modal-badge').innerText = coin.type === 'Regular' ? 'Redna izdaja' : `Spominski Â· ${coin.year}`;
            document.getElementById('modal-description').innerText = coin.description;

            const graphicHTML = coin.imageUrl 
                ? `<div class="w-full h-full rounded-full overflow-hidden border-[4px] border-[#cbd5e1] shadow-[inset_0_0_15px_rgba(0,0,0,0.4)] relative bg-[#cbd5e1]">
                     <img src="${coin.imageUrl}" alt="${coin.title}" class="w-full h-full object-cover mix-blend-multiply opacity-90" />
                     <div class="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent pointer-events-none rounded-full"></div>
                   </div>`
                : getCoinSVG(coin);
            document.getElementById('modal-graphic').innerHTML = graphicHTML;

            updateModalButton(isCollected);

            const modal = document.getElementById('coin-modal');
            const content = document.getElementById('coin-modal-content');
            modal.classList.remove('hidden');
            
            lucide.createIcons();

            requestAnimationFrame(() => {
                modal.classList.remove('opacity-0');
                content.classList.remove('scale-95');
                content.classList.add('scale-100');
            });
        }

        function closeModal() {
            const modal = document.getElementById('coin-modal');
            const content = document.getElementById('coin-modal-content');
            
            modal.classList.add('opacity-0');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                currentModalCoinId = null;
            }, 300);
        }

        function toggleFromModal() {
            if (!currentModalCoinId) return;
            toggleCoin(currentModalCoinId);
            updateModalButton(collectedCoins.has(currentModalCoinId));
        }

        function updateModalButton(isCollected) {
            const btn = document.getElementById('modal-toggle-btn');
            if (isCollected) {
                btn.className = "w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md text-lg bg-green-100 text-green-700 hover:bg-green-200";
                btn.innerHTML = `<i data-lucide="check-circle" class="w-6 h-6"></i> Zbrano`;
            } else {
                btn.className = "w-full py-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md text-lg bg-slate-900 text-white hover:bg-slate-800 hover:-translate-y-1";
                btn.innerHTML = `<i data-lucide="plus-circle" class="w-6 h-6"></i> OznaÄi kot zbrano`;
            }
            lucide.createIcons();
        }

        // --- 3. RENDERING SVG KOVANCA ---
        function getCoinSVG(coin) {
            const svgYear = coin.type === 'Regular' ? '' : coin.year;
            
            return `
                <div class="relative w-full h-full">
                    <svg viewBox="0 0 100 100" class="absolute inset-0 w-full h-full drop-shadow-md z-0">
                        <defs>
                            <radialGradient id="gold-${coin.id}" cx="50%" cy="50%" r="50%">
                                <stop offset="0%" stop-color="#fef08a" />
                                <stop offset="100%" stop-color="#eab308" />
                            </radialGradient>
                            <radialGradient id="silver-${coin.id}" cx="50%" cy="50%" r="50%">
                                <stop offset="70%" stop-color="#f1f5f9" />
                                <stop offset="100%" stop-color="#cbd5e1" />
                            </radialGradient>
                            <path id="star-${coin.id}" d="M0,-3 L0.9,-0.9 L3,-0.9 L1.3,0.5 L1.9,3 L0,1.5 L-1.9,3 L-1.3,0.5 L-3,-0.9 L-0.9,-0.9 Z" fill="#94a3b8"/>
                        </defs>
                        <circle cx="50" cy="50" r="48" fill="url(#silver-${coin.id})" stroke="#94a3b8" stroke-width="1"/>
                        <circle cx="50" cy="50" r="35" fill="url(#gold-${coin.id})" stroke="#ca8a04" stroke-width="0.5"/>
                        <g transform="translate(50,50)">
                            ${[0, 30, 60, 90, 120, 150, 180, 210, 240, 270, 300, 330].map(angle => 
                                `<use href="#star-${coin.id}" transform="rotate(${angle}) translate(0,-41.5)" />`
                            ).join('')}
                        </g>
                        <g transform="translate(50,50)">
                            <text x="0" y="15" text-anchor="middle" font-size="9" font-weight="bold" fill="#854d0e">${svgYear}</text>
                            <text x="0" y="25" text-anchor="middle" font-size="${coin.inscription.length > 7 ? 4.5 : 6}" font-weight="bold" fill="#854d0e" letter-spacing="0.5">${coin.inscription}</text>
                        </g>
                    </svg>
                    
                    <div class="absolute inset-0 z-10 flex items-center justify-center pointer-events-none" style="padding-bottom: 22%;">
                        <i data-lucide="${coin.icon}" class="w-[32%] h-[32%] text-yellow-800 opacity-90" stroke-width="1.5"></i>
                    </div>
                </div>
            `;
        }

        // --- 4. SESTAVLJANJE KARTIC KOVANCEV ---
        function generateCoinHTML(coin) {
            const isCollected = collectedCoins.has(coin.id);
            
            const cardClass = isCollected 
                ? 'bg-gradient-to-br from-white to-green-50 border-green-400 shadow-green-200/50' 
                : 'bg-white border-slate-100 shadow-md hover:border-blue-300';
                
            const imageWrapperClass = isCollected
                ? 'scale-100 drop-shadow-xl'
                : 'scale-90 opacity-85 group-hover:scale-100 group-hover:opacity-100 drop-shadow-md';

            const iconHTML = isCollected
                ? `<i data-lucide="check-circle" class="text-green-500 fill-green-100 drop-shadow-sm w-7 h-7"></i>`
                : `<i data-lucide="circle" class="text-slate-200 group-hover:text-blue-300 transition-colors w-7 h-7"></i>`;

            const graphicHTML = coin.imageUrl 
                ? `<div class="w-[92%] h-[92%] rounded-full overflow-hidden border-[4px] border-[#cbd5e1] shadow-[inset_0_0_15px_rgba(0,0,0,0.4)] relative bg-[#cbd5e1]">
                     <img src="${coin.imageUrl}" alt="${coin.title}" class="w-full h-full object-cover mix-blend-multiply opacity-90" />
                     <div class="absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent pointer-events-none rounded-full"></div>
                   </div>`
                : getCoinSVG(coin);

            const yearLabel = coin.type === 'Regular' ? 'Redna izdaja' : coin.year;

            return `
                <div onclick="openModal('${coin.id}')" class="coin-card group relative rounded-2xl p-4 cursor-pointer border-2 flex flex-col select-none ${cardClass}">
                    
                    <div onclick="event.stopPropagation(); toggleCoin('${coin.id}')" class="absolute top-3 right-3 z-10 transition-transform duration-300 active:scale-75 hover:scale-110">
                        ${iconHTML}
                    </div>

                    <div class="w-full aspect-square mb-4 transition-all duration-500 pointer-events-none flex items-center justify-center relative ${imageWrapperClass}">
                        ${graphicHTML}
                    </div>

                    <div class="mt-auto flex flex-col items-center text-center px-1">
                        <div class="text-[10px] font-bold text-slate-400 mb-1 uppercase tracking-widest">${yearLabel}</div>
                        <h3 class="text-xs sm:text-sm font-bold text-slate-800 line-clamp-2 leading-tight mb-3 flex-1 min-h-[2rem]" title="${coin.title}">${coin.title}</h3>
                        
                        <div class="w-full flex justify-between items-center bg-slate-50 px-2 py-1.5 rounded-lg border border-slate-100 group-hover:bg-blue-50 transition-colors">
                            <div class="flex items-center gap-1.5 text-xs font-semibold text-slate-600">
                                ${getFlagImg(coin)}
                                <span class="hidden sm:inline">${coin.country}</span>
                                <span class="sm:hidden">${coin.country.substring(0, 3).toUpperCase()}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- 5. RENDERIRANJE CELOTNE APLIKACIJE ---
        function renderApp() {
            const filteredCoins = COINS.filter(coin => {
                const matchesSearch = coin.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
                                      coin.country.toLowerCase().includes(searchQuery.toLowerCase());
                const isCollected = collectedCoins.has(coin.id);
                const matchesStatus = statusFilter === 'All' ? true : 
                                      (statusFilter === 'Collected' ? isCollected : !isCollected);
                return matchesSearch && matchesStatus;
            });

            const regularFiltered = filteredCoins.filter(c => c.type === 'Regular');
            const slovenianFiltered = filteredCoins.filter(c => c.type === 'Commemorative');

            document.getElementById('regular-coins-grid').innerHTML = regularFiltered.length > 0 
                ? regularFiltered.map(generateCoinHTML).join('')
                : '<div class="col-span-full text-center py-8 text-slate-400 font-medium border border-dashed border-slate-200 rounded-xl">Noben redni kovanec ne ustreza iskanju.</div>';
            
            document.getElementById('slovenian-coins-grid').innerHTML = slovenianFiltered.length > 0 
                ? slovenianFiltered.map(generateCoinHTML).join('')
                : '<div class="col-span-full text-center py-8 text-slate-400 font-medium border border-dashed border-slate-200 rounded-xl">Noben slovenski kovanec ne ustreza iskanju.</div>';

            const regTotal = COINS.filter(c => c.type === 'Regular').length;
            const regCollected = COINS.filter(c => c.type === 'Regular' && collectedCoins.has(c.id)).length;
            const regPercent = Math.round((regCollected / regTotal) * 100);

            const slTotal = COINS.filter(c => c.type === 'Commemorative').length;
            const slCollected = COINS.filter(c => c.type === 'Commemorative' && collectedCoins.has(c.id)).length;
            const slPercent = Math.round((slCollected / slTotal) * 100);

            document.getElementById('reg-collected').innerText = regCollected;
            document.getElementById('reg-total').innerText = regTotal;
            document.getElementById('reg-bar').style.width = `${regPercent}%`;
            
            document.getElementById('sl-collected').innerText = slCollected;
            document.getElementById('sl-total').innerText = slTotal;
            
            const totalValue = (regCollected + slCollected) * 2;
            document.getElementById('total-value').innerText = `â‚¬${totalValue}.00`;

            document.getElementById('sl-bar-white').style.width = `${slPercent / 3}%`;
            document.getElementById('sl-bar-blue').style.width = `${slPercent / 3}%`;
            document.getElementById('sl-bar-red').style.width = `${slPercent / 3}%`;

            document.getElementById('reg-award').classList.toggle('hidden', regPercent !== 100);
            document.getElementById('reg-complete-badge').classList.toggle('hidden', regPercent !== 100);
            
            document.getElementById('sl-award').classList.toggle('hidden', slPercent !== 100);
            document.getElementById('sl-complete-badge').classList.toggle('hidden', slPercent !== 100);

            lucide.createIcons();
        }

        // --- 6. POSLUÅ ALCI DOGODKOV ---
        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchQuery = e.target.value;
            renderApp();
        });

        document.getElementById('statusFilter').addEventListener('change', (e) => {
            statusFilter = e.target.value;
            renderApp();
        });

        window.onload = renderApp;

    </script>

    <!-- HTML Struktura za Modalno okno -->
    <div id="coin-modal" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 hidden opacity-0 transition-opacity duration-300" onclick="if(event.target === this) closeModal()">
        <div class="bg-white rounded-[2rem] p-6 sm:p-8 max-w-md w-full mx-4 relative shadow-2xl transform scale-95 transition-transform duration-300" id="coin-modal-content">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 bg-slate-100 hover:bg-slate-200 rounded-full p-2 transition-colors z-10">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
            
            <div id="modal-graphic" class="w-32 h-32 mx-auto mb-6 relative pointer-events-none"></div>
            
            <div class="text-center">
                <div id="modal-badge" class="inline-block px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-[10px] font-bold tracking-widest mb-3 uppercase"></div>
                <h2 id="modal-title" class="text-2xl font-black text-slate-800 leading-tight mb-2"></h2>
                <div id="modal-country" class="text-sm font-semibold text-slate-500 mb-6 flex items-center justify-center gap-2"></div>
                
                <div class="bg-slate-50 rounded-2xl p-5 text-left border border-slate-100 mb-6 shadow-inner">
                    <h4 class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 flex items-center gap-1">
                        <i data-lucide="info" class="w-3 h-3"></i> Uradni opis
                    </h4>
                    <p id="modal-description" class="text-slate-700 text-sm leading-relaxed font-medium"></p>
                </div>
                
                <button id="modal-toggle-btn" onclick="toggleFromModal()" class="w-full"></button>
            </div>
        </div>
    </div>

</body>
</html>
